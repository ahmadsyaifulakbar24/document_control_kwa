(function(t){function e(e){for(var r,o,i=e[0],l=e[1],c=e[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},n={app:0},s=[];function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0032":function(t,e,a){},"09d8":function(t,e,a){},"22d7":function(t,e,a){"use strict";a("be87")},"2c66":function(t,e,a){},"3d89":function(t,e,a){},"4b21":function(t,e,a){"use strict";a("5a3a")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isLoggedIn?[a("Navigation")]:t._e(),a("div",{staticClass:"main"},[a("router-view")],1)],2)},s=[],o=a("5530"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar navbar-expand-sm navbar-light bg-white border-bottom"},[a("div",{staticClass:"form-inline"},[a("i",{staticClass:"mdi mdi-menu mdi-24px d-block d-lg-none pointer text-dark mr-2",attrs:{id:"menu"},on:{click:t.menu}}),a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v(" Document Control ")])]),a("div",{staticClass:"dropdown ml-auto"},[a("a",{attrs:{id:"dropdownMenu",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("img",{staticClass:"avatar rounded-circle",attrs:{src:t.user.profile,width:"25"}})]),a("div",{staticClass:"dropdown-menu dropdown-menu-right rounded",attrs:{"aria-labelledby":"dropdownMenu"}},[a("div",{staticClass:"text-center my-3 px-3 text-break"},[a("img",{staticClass:"avatar rounded-circle",attrs:{src:t.user.profile,width:"75"}}),a("h6",{staticClass:"name text-truncate pt-3 mb-0"},[t._v(t._s(t.user.name))])]),a("div",{staticClass:"dropdown-divider"}),a("a",{staticClass:"dropdown-item",attrs:{id:"logout",role:"button"},on:{click:t.logout}},[a("i",{staticClass:"mdi mdi-18px mdi-login-variant"}),a("span",[t._v("Logout")])])])])]),a("div",{staticClass:"sidebar"},[a("small",{staticClass:"text-secondary text-uppercase font-weight-bold"},[t._v("Menu")]),a("router-link",{attrs:{to:"/dashboard"}},[a("i",{staticClass:"mdi mdi-apps mdi-18px"}),a("span",[t._v("Dashboard")])]),a("router-link",{attrs:{to:{name:"project"}}},[a("i",{staticClass:"mdi mdi-apps mdi-18px"}),a("span",[t._v("Project")])]),103!=t.user.user_level_id?a("router-link",{attrs:{to:{name:"ppjab"}}},[a("i",{staticClass:"mdi mdi-apps mdi-18px"}),a("span",[t._v("PPJAB")])]):t._e(),102==t.user.user_level_id||101==t.user.user_level_id?[a("router-link",{attrs:{to:{name:"kontrak"}}},[a("i",{staticClass:"mdi mdi-apps mdi-18px"}),a("span",[t._v("Kontrak")])])]:t._e()],2),a("div",{staticClass:"overlay",on:{click:t.overlay}})])},l=[],c=a("1157"),u=a.n(c),d=a("2f62"),m={name:"Navigation",computed:Object(o["a"])({},Object(d["b"])({user:"auth/user"})),methods:{logout:function(){var t=this;this.$store.dispatch("auth/logout").then((function(){t.$router.push("/")}))},menu:function(){u()(".sidebar").hasClass("show")?(u()(".sidebar").removeClass("show"),u()(".sidebar").css("left","-230px"),u()(".overlay").hide()):(u()(".sidebar").addClass("show"),u()(".sidebar").css("left","0px"),u()(".overlay").show())},overlay:function(){u()(".sidebar").removeClass("show"),u()(".sidebar").css("left","-230px"),u()(this).hide()}}},p=m,f=a("2877"),v=Object(f["a"])(p,i,l,!1,null,null,null),_=v.exports,g={computed:Object(o["a"])({},Object(d["b"])({isLoggedIn:"auth/isLoggedIn"})),components:{Navigation:_}},b=g,h=Object(f["a"])(b,n,s,!1,null,null,null),j=h.exports,k=(a("45fc"),a("8c4f")),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth"},[a("div",{staticClass:"card rounded"},[t._m(0),a("div",{staticClass:"card-body"},[a("form",{attrs:{id:"form"},on:{submit:function(e){return e.preventDefault(),t.userLogin(e)}}},[!1===t.errors.success?a("div",{staticClass:"alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[a("i",{staticClass:"mdi mdi-close-circle",attrs:{"data-dismiss":"alert","aria-label":"Close"}}),t._v("Username atau Password salah. ")]):t._e(),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],ref:"username",staticClass:"form-control",attrs:{type:"text",id:"username",autofocus:"autofocus"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}}),t.errors.username?a("div",{staticClass:"text-danger"},[t._v(t._s(t.errors.username[0]))]):t._e()]),a("div",{staticClass:"form-group position-relative"},[a("label",{attrs:{for:"password"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],ref:"password",staticClass:"form-control pr-5",attrs:{type:"password",id:"password",maxlength:"32",autocomplete:"on"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),a("i",{staticClass:"password mdi mdi-eye-off mdi-18px",attrs:{"data-id":"password"},on:{click:t.passwordClick}}),t.errors.password?a("div",{staticClass:"text-danger"},[t._v(t._s(t.errors.password[0]))]):t._e()]),a("div",{staticClass:"form-group mt-5"},[a("button",{staticClass:"btn btn-primary btn-block mb-4",attrs:{id:"submit"}},[a("span",{attrs:{id:"text"}},[t._v("Login")]),a("div",{staticClass:"loader loader-sm none",attrs:{id:"load"}},[a("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[a("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"5","stroke-miterlimit":"10"}})])])])])])])])])},x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-head text-center px-4 pt-4"},[a("h2",{staticClass:"pt-4"},[t._v("Dokumen Kontrol KWA")]),a("p",{staticClass:"text-secondary"},[t._v("PT. Karl Wig Abadi")])])}],w={data:function(){return{form:{username:"",password:""},errors:[]}},methods:{userLogin:function(){var t=this;this.$store.dispatch("auth/login",this.form).then((function(){t.$router.push({name:"dashboard"})})).catch((function(e){t.errors=e.response.data}))},passwordClick:function(){u()(".password").hasClass("mdi-eye")?(u()(".password").removeClass("mdi-eye"),u()(".password").addClass("mdi-eye-off"),"password"==u()(".password").data("id")?u()("#password").attr("type","password"):"npassword"==u()(".password").data("id")?u()("#npassword").attr("type","password"):u()("#cpassword").attr("type","password")):(u()(".password").addClass("mdi-eye"),u()(".password").removeClass("mdi-eye-off"),"password"==u()(".password").data("id")?u()("#password").attr("type","text"):"npassword"==u()(this).data("id")?u()("#npassword").attr("type","text"):u()("#cpassword").attr("type","text"))}}},P=w,D=Object(f["a"])(P,C,x,!1,null,null,null),y=D.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",{staticClass:"text-uppercase"},[t._v("selamat datang "+t._s(t.user.name))])])},I=[],O={computed:Object(o["a"])({},Object(d["b"])({user:"auth/user"}))},N=O,E=Object(f["a"])(N,$,I,!1,null,null,null),A=E.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[100==t.user.user_level_id?[a("router-link",{attrs:{to:{name:"project.create"}}},[a("button",{staticClass:"btn btn-primary mb-3"},[t._v("Buat Project")])])]:t._e(),t.pagination.last_page>1?a("div",{staticClass:"float-right row"},[a("div",{staticClass:"mr-3"},[t._v(" Data ke "+t._s(t.projects.meta.from)+" - "+t._s(t.projects.meta.to)+" dari "+t._s(t.projects.meta.total)+" data ")]),a("Pagination",{attrs:{last_page:t.pagination.last_page,pagination:t.pagination},on:{paginate:function(e){return t.showAllProject()}}})],1):t._e(),t.loading?a("div",{staticClass:"d-flex justify-content-center"},[t._v(" Loading... ")]):t._e(),a("table",{staticClass:"table table-hover"},[t.loading?t._e():a("thead",[a("tr",[a("th",{staticClass:"text-truncate"},[t._v("Nama Projek")]),a("th",{staticClass:"text-truncate"},[t._v("Keterangan")]),a("th",{staticClass:"text-truncate"},[t._v("Tanggal dibuat")]),100==t.user.user_level_id?a("th",{staticClass:"text-truncate text-center"},[t._v("Action")]):t._e()])]),a("tbody",t._l(t.projects.data,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"text-truncate"},[a("router-link",{attrs:{to:{name:"subProject.listSubProject",params:{projectID:e.id}}}},[t._v(" "+t._s(e.name)+" ")])],1),a("td",{staticClass:"text-truncate"},[t._v(t._s(e.keterangan))]),a("td",{staticClass:"text-truncate"},[t._v(t._s(e.created_at))]),100==t.user.user_level_id?a("td",{staticClass:"text-truncate"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"text-info pr-1"},[a("router-link",{attrs:{to:{name:"project.edit",params:{projectID:e.id}}}},[a("i",{staticClass:"mdi mdi-pencil pr-0"}),a("span",[t._v("Edit")])])],1),a("delete-project",{attrs:{projectID:e.id}})],1)]):t._e()])})),0)])],2)},S=[],K=(a("96cf"),a("1da1")),R=a("bc3a"),B=a.n(R),U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"deleteProject",staticClass:"text-danger",attrs:{id:"delete-project"},on:{click:function(e){t.modalDelete=!0}}},[a("i",{staticClass:"mdi mdi-delete pr-0"}),t._v(" "),a("span",[t._v("delete")])]),t.modalDelete?a("modal",{on:{close:function(e){t.modalDelete=!1}}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"mb-2"},[t._v(" Apa anda yakin ingin menghapusnya ? ")]),a("button",{staticClass:"btn btn-sm btn-danger mr-2",staticStyle:{width:"70px"},on:{click:t.deleteProject}},[t._v("Ya")]),a("button",{staticClass:"btn btn-sm btn-primary",staticStyle:{width:"70px"},on:{click:function(e){t.modalDelete=!1}}},[t._v("Batal")])])]):t._e()],1)},L=[],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._t("title")],2),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])]),a("div",{staticClass:"modal-body"},[t._t("default",[t._v("Default body")])],2),a("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])},T=[],M={name:"modal"},Y=M,z=(a("22d7"),Object(f["a"])(Y,J,T,!1,null,null,null)),G=z.exports,W={props:["projectID"],components:{Modal:G},data:function(){return{modalDelete:""}},methods:{deleteProject:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.delete("document_flow/project/delete/".concat(t.projectID)).then((function(e){console.log(e),t.$toasted.show("berhasil delete project",{type:"success",duration:3e3}),t.$refs.deleteProject.parentNode.parentNode.parentNode.parentNode.remove(),t.modalDelete=!1})).catch((function(e){console.log(e.response.data),t.$toasted.show("error delete project",{type:"danger",duration:3e3})}));case 2:case"end":return e.stop()}}),e)})))()}}},q=W,H=(a("9869"),Object(f["a"])(q,U,L,!1,null,null,null)),Q=H.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex"},[1!=t.numberPage?a("button",{staticClass:"btn btn-light btn-sm mr-1",on:{click:function(e){return t.nextPrevPage(t.numberPage-1)}}},[a("i",{staticClass:"mdi mdi-menu-left"})]):t._e(),a("select",{directives:[{name:"model",rawName:"v-model",value:t.numberPage,expression:"numberPage"}],staticClass:"form-control mr-1",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.numberPage=e.target.multiple?a:a[0]},function(e){return t.changePage()}]}},t._l(t.pages,(function(e,r){return a("option",{key:r,domProps:{value:e}},[t._v(t._s(e))])})),0),t.numberPage!=t.last_page?a("button",{staticClass:"btn btn-light btn-sm",on:{click:function(e){return t.nextPrevPage(t.numberPage+1)}}},[a("i",{staticClass:"mdi mdi-menu-right"})]):t._e()])])},X=[],Z={props:["last_page","pagination"],data:function(){return{numberPage:1}},methods:{nextPrevPage:function(t){this.pagination.current_page=t,this.numberPage=t,this.$emit("paginate")},changePage:function(){this.pagination.current_page=this.numberPage,this.$emit("paginate")}},computed:{pages:function(){var t=[],e=1,a=this.last_page;while(e<=a)t.push(e),e++;return t}}},tt=Z,et=Object(f["a"])(tt,V,X,!1,null,null,null),at=et.exports,rt={components:{DeleteProject:Q,Pagination:at},data:function(){return{projects:{data:[],meta:{}},pagination:{last_page:"",current_page:1},loading:!1}},computed:Object(o["a"])({},Object(d["b"])({user:"auth/user"})),mounted:function(){this.showAllProject()},methods:{showAllProject:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,B.a.get("document_flow/project/get?page=".concat(t.pagination.current_page)).then((function(e){t.projects.data=e.data.data,t.projects.meta=e.data.meta,t.pagination.last_page=e.data.meta.last_page,t.loading=!1})).catch((function(e){console.log(e),t.loading=!0}));case 3:case"end":return e.stop()}}),e)})))()}}},nt=rt,st=Object(f["a"])(nt,F,S,!1,null,null,null),ot=st.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("form",{attrs:{id:"createProject"},on:{submit:function(e){return e.preventDefault(),t.createProject(e)}}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"name"}},[t._v("Nama Project")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formProject.name,expression:"formProject.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Nama Project"},domProps:{value:t.formProject.name},on:{input:function(e){e.target.composing||t.$set(t.formProject,"name",e.target.value)}}}),t.errors.name?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.name[0]))]):t._e()])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"keterangan"}},[t._v("Keterangan Project")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formProject.keterangan,expression:"formProject.keterangan"}],staticClass:"form-control",attrs:{id:"keterangan",rows:"3",placeholder:"Keterangan Project"},domProps:{value:t.formProject.keterangan},on:{input:function(e){e.target.composing||t.$set(t.formProject,"keterangan",e.target.value)}}}),t.errors.keterangan?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.keterangan[0]))]):t._e()])]),t._m(1)])])},lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5"},[a("h4",[t._v("Buat Project")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-lg-3"}),a("div",{staticClass:"col-lg-5 col-xs-5"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[t._v("Buat Project")])])])}],ct=(a("b0c0"),{data:function(){return{formProject:{name:"",keterangan:""},errors:[]}},methods:{createProject:function(){var t=this;B.a.post("document_flow/project/create",this.formProject).then((function(){t.$toasted.show("berhasil buat project",{type:"success",duration:3e3}),t.formProject.name="",t.formProject.keterangan="",t.$router.push({name:"project"})})).catch((function(e){t.errors=e.response.data}))}}}),ut=ct,dt=Object(f["a"])(ut,it,lt,!1,null,null,null),mt=dt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("form",{attrs:{id:"editProject"},on:{submit:function(e){return e.preventDefault(),t.editProject(e)}}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"name"}},[t._v("Nama Project")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formProject.name,expression:"formProject.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Nama Project"},domProps:{value:t.formProject.name},on:{input:function(e){e.target.composing||t.$set(t.formProject,"name",e.target.value)}}}),t.errors.name?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.name[0]))]):t._e()])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"keterangan"}},[t._v("Keterangan Project")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formProject.keterangan,expression:"formProject.keterangan"}],staticClass:"form-control",attrs:{id:"keterangan",rows:"3",placeholder:"Keterangan Project"},domProps:{value:t.formProject.keterangan},on:{input:function(e){e.target.composing||t.$set(t.formProject,"keterangan",e.target.value)}}}),t.errors.keterangan?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.keterangan[0]))]):t._e()])]),t._m(1)])])},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5"},[a("h4",[t._v("Edit Project")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-lg-3"}),a("div",{staticClass:"col-lg-5 col-xs-5"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[t._v("Update Project")])])])}],vt={data:function(){return{formProject:{name:"",keterangan:""},errors:[]}},mounted:function(){this.getProject()},methods:{getProject:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("document_flow/project/get/".concat(t.$route.params.projectID)).then((function(e){t.formProject=e.data.data})).catch((function(e){t.errors=e.response.data}));case 2:case"end":return e.stop()}}),e)})))()},editProject:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.patch("document_flow/project/update/".concat(t.$route.params.projectID),t.formProject).then((function(){t.$toasted.show("berhasil edit project",{type:"success",duration:3e3}),t.formProject.name="",t.formProject.keterangan="",t.$router.push({name:"project"})})).catch((function(e){t.errors=e.response.data}));case 2:case"end":return e.stop()}}),e)})))()}}},_t=vt,gt=Object(f["a"])(_t,pt,ft,!1,null,null,null),bt=gt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[100==t.user.user_level_id?[a("router-link",{attrs:{to:{name:"subProject.createSubProject",params:{projectID:t.project_id}}}},[a("div",{staticClass:"mb-3"},[a("button",{staticClass:"btn btn-primary"},[t._v("Buat Dokumen")])])])]:t._e(),t.loading?a("div",{staticClass:"d-flex justify-content-center"},[t._v(" Loading... ")]):t._e(),a("table",{staticClass:"table table-hover"},[t.loading?t._e():a("thead",[t._m(0)]),a("tbody",t._l(t.subProjects,(function(e){return a("tr",{key:e.id,class:{"bg-light":t.user.id!==e.user_id}},[a("th",{staticClass:"text-truncate"},[t._v(t._s(e.name))]),a("th",{staticClass:"text-truncate"},[t._v(t._s(e.keterangan))]),a("th",{staticClass:"text-truncate"},[""!==e.file?[t._v(" "+t._s(t.fileName(e.file))+" ")]:[t._v(" File belum di upload ")]],2),a("th",{staticClass:"text-truncate"},[t._v(t._s(e.user.name))]),a("th",{staticClass:"text-truncate"},[t._v(t._s(e.created_at))]),a("th",{staticClass:"text-truncate"},[a("div",{staticClass:"d-flex"},[100==t.user.user_level_id?a("div",{staticClass:"text-info mr-1"},[a("router-link",{attrs:{to:{name:"subProject.EditSubProject",params:{projectID:t.project_id,subProjectID:e.id}}}},[a("i",{staticClass:"mdi mdi-pencil pr-0"}),a("span",[t._v("Edit")])])],1):t._e(),a("div",{staticClass:"text-info"},[t.user.id==e.user_id?[a("router-link",{attrs:{to:{name:"subProject.UploadFileSubProject",params:{projectID:t.project_id,subProjectID:e.id}}}},[a("i",{staticClass:"mdi mdi-file-upload"},[""!==e.file?[a("span",[t._v("Update File")])]:[a("span",[t._v("Upload File")])]],2)])]:t._e()],2),e.file?a("div",{staticClass:"text-info"},[a("a",{attrs:{target:"_blank",href:e.file,download:e.name}},[a("i",{staticClass:"mdi mdi-download"}),a("span",[t._v("Download")])])]):t._e(),100==t.user.user_level_id?a("delete-sub-project",{attrs:{projectID:t.project_id,subProjectID:e.id}}):t._e()],1)])])})),0)])],2)},jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"text-truncate"},[t._v("Name")]),a("th",{staticClass:"text-truncate"},[t._v("Keterangan")]),a("th",{staticClass:"text-truncate"},[t._v("File")]),a("th",{staticClass:"text-truncate"},[t._v("Target")]),a("th",{staticClass:"text-truncate"},[t._v("Createad at")]),a("th",{staticClass:"text-truncate"},[t._v("Action")])])}],kt=(a("baa5"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"deleteSubProject",staticClass:"text-danger",attrs:{id:"delete-sub-project"},on:{click:function(e){t.modalDelete=!0}}},[a("i",{staticClass:"mdi mdi-delete pr-0"}),t._v(" "),a("span",[t._v("Delete")])]),t.modalDelete?a("modal",{on:{close:function(e){t.modalDelete=!1}}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"mb-2"},[t._v(" Apa anda yakin ingin menghapusnya ? ")]),a("button",{staticClass:"btn btn-sm btn-danger mr-2",staticStyle:{width:"70px"},on:{click:t.deleteSubProject}},[t._v("Ya")]),a("button",{staticClass:"btn btn-sm btn-primary",staticStyle:{width:"70px"},on:{click:function(e){t.modalDelete=!1}}},[t._v("Batal")])])]):t._e()],1)}),Ct=[],xt={props:["projectID","subProjectID"],components:{Modal:G},data:function(){return{modalDelete:!1}},methods:{deleteSubProject:function(){var t=this;B.a.delete("document_flow/sub_project/delete/".concat(this.subProjectID)).then((function(){t.$toasted.show("berhasil delete data",{type:"success",duration:3e3}),t.$refs.deleteSubProject.parentNode.parentNode.parentNode.parentNode.remove(),t.modalDelete=!1})).catch((function(t){console.log(t)}))}}},wt=xt,Pt=(a("c998"),Object(f["a"])(wt,kt,Ct,!1,null,null,null)),Dt=Pt.exports,yt={components:{DeleteSubProject:Dt},data:function(){return{project_id:this.$route.params.projectID,subProjects:[],loading:!1}},computed:Object(o["a"])({},Object(d["b"])({user:"auth/user"})),mounted:function(){this.showAllSubProject()},methods:{showAllSubProject:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,B.a.get("document_flow/sub_project/get_by_project/".concat(t.project_id)).then((function(e){t.subProjects=e.data.data,t.loading=!1})).catch((function(e){console.log(e.response.data),t.loading=!0}));case 3:case"end":return e.stop()}}),e)})))()},fileName:function(t){var e=t.substring(t.lastIndexOf("/")+1);return e}}},$t=yt,It=Object(f["a"])($t,ht,jt,!1,null,null,null),Ot=It.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("form",{on:{submit:function(e){return e.preventDefault(),t.createSubProject(e)}}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"name"}},[t._v("Nama Dokumen")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Nama Dokumen"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t.errors.name?a("div",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.name[0]))]):t._e()])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"keterangan"}},[t._v("Keterangan")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.keterangan,expression:"form.keterangan"}],staticClass:"form-control",attrs:{id:"keterangan",rows:"3",placeholder:"Keterangan"},domProps:{value:t.form.keterangan},on:{input:function(e){e.target.composing||t.$set(t.form,"keterangan",e.target.value)}}}),t.errors.keterangan?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.keterangan[0]))]):t._e()])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"user_id"}},[t._v("Target")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.user_id,expression:"form.user_id"}],staticClass:"form-control",attrs:{id:"user_id"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"user_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Pilih Target")]),t._l(t.userProjects,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])}))],2),t.errors.user_id?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.user_id[0]))]):t._e()])]),t._m(1)])])},Et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5"},[a("h4",[t._v("Buat Sub Project")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-lg-3"}),a("div",{staticClass:"col-lg-5 col-xs-5"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[t._v("Buat Sub Project")])])])}],At={data:function(){return{form:{project_id:this.$route.params.projectID,name:"",keterangan:"",user_id:""},userProjects:[],errors:[]}},mounted:function(){this.getUserProject()},methods:{createSubProject:function(){var t=this;B.a.post("document_flow/sub_project/create",this.form).then((function(){t.$toasted.show("berhasil buat sub project",{type:"success",duration:3e3}),t.$router.push({name:"subProject.listSubProject",params:{projectID:t.form.project_id}})})).catch((function(e){t.errors=e.response.data}))},getUserProject:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("user/get_user_project").then((function(e){t.userProjects=e.data.data}));case 2:case"end":return e.stop()}}),e)})))()}}},Ft=At,St=Object(f["a"])(Ft,Nt,Et,!1,null,null,null),Kt=St.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("form",{on:{submit:function(e){return e.preventDefault(),t.EditSubProject(e)}}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"name"}},[t._v("Nama")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Nama"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t.errors.name?a("div",{staticClass:"text-danger mt-2"},[t._v(t._s(t.errors.name[0]))]):t._e()])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"keterangan"}},[t._v("Keterangan")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.keterangan,expression:"form.keterangan"}],staticClass:"form-control",attrs:{id:"keterangan",rows:"3",placeholder:"Keterangan"},domProps:{value:t.form.keterangan},on:{input:function(e){e.target.composing||t.$set(t.form,"keterangan",e.target.value)}}}),t.errors.keterangan?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.keterangan[0]))]):t._e()])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"user_id"}},[t._v("Target")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.user_id,expression:"form.user_id"}],staticClass:"form-control",attrs:{id:"user_id"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"user_id",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:t.userSelected.id,textContent:t._s(t.userSelected.name)}}),t._l(t.userProjects,(function(e){return[t.userSelected.id!==e.id?a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name)+" ")]):t._e()]}))],2),t.errors.user_id?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.user_id[0]))]):t._e()])]),t._m(1)])])},Bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5"},[a("h4",[t._v("Edit Sub Project")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-lg-3"}),a("div",{staticClass:"col-lg-5 col-xs-5"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[t._v("Simpan Sub Project")])])])}],Ut={data:function(){return{form:{project_id:this.$route.params.projectID,name:"",keterangan:"",user_id:""},userSelected:{},userProjects:[],subProjectID:this.$route.params.subProjectID,projectID:this.$route.params.projectID,errors:[]}},mounted:function(){this.getSubProject(),this.getUserProject()},methods:{getSubProject:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("document_flow/sub_project/get/".concat(t.subProjectID)).then((function(e){var a=e.data.data;t.form=a,t.userSelected=a.user}));case 2:case"end":return e.stop()}}),e)})))()},EditSubProject:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.patch("document_flow/sub_project/update/".concat(t.subProjectID),t.form).then((function(){t.$toasted.show("berhasil update sub project",{type:"success",duration:3e3}),t.$router.push({name:"subProject.listSubProject",params:{projectID:t.projectID}})})).catch((function(e){t.errors=e.response.data}));case 2:case"end":return e.stop()}}),e)})))()},getUserProject:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("user/get_user_project/").then((function(e){t.userProjects=e.data.data}));case 2:case"end":return e.stop()}}),e)})))()}}},Lt=Ut,Jt=Object(f["a"])(Lt,Rt,Bt,!1,null,null,null),Tt=Jt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("form",{on:{submit:function(e){return e.preventDefault(),t.uploadFileSubProject(e)}}},[a("div",{staticClass:"input-group mb-3 row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"uploadFile"}},[t._v("Upload File")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("div",{staticClass:"custom-file",attrs:{id:"uploadFile"}},[a("input",{ref:"uploadFile",staticClass:"custom-file-input",attrs:{type:"file",id:"uploadFile"},on:{change:t.handleFileUpload}}),a("label",{staticClass:"custom-file-label",attrs:{for:"uploadFile"}},[t._v(t._s(t.file.name))])]),t.errors.file?a("div",{staticClass:"text-danger"},[t._v(t._s(t.errors.file[0]))]):t._e()])]),t._m(1)])])},Yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5"},[a("h4",[t._v("Upload File Sub Project")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-lg-3"}),a("div",{staticClass:"col-lg-5 col-xs-5"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[t._v("Upload File Sub Project")])])])}],zt={data:function(){return{file:[],projectID:this.$route.params.projectID,subProjectID:this.$route.params.subProjectID,errors:[]}},methods:{handleFileUpload:function(){this.file=this.$refs.uploadFile.files[0]},uploadFileSubProject:function(){var t=this,e=new FormData;e.append("file",this.file),B.a.post("document_flow/sub_project/upload_file/".concat(this.subProjectID),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){t.$toasted.show("berhasil upload file",{type:"success",duration:3e3}),t.$router.push({name:"subProject.listSubProject",params:{projectID:t.projectID}})})).catch((function(e){t.errors=e.response.data}))}}},Gt=zt,Wt=Object(f["a"])(Gt,Mt,Yt,!1,null,null,null),qt=Wt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[100==t.user.user_level_id?[a("router-link",{attrs:{to:{name:"ppjab.create"}}},[a("button",{staticClass:"btn btn-primary mb-3"},[t._v(" Tambah PPJAB ")])])]:t._e(),t.pagination.last_page>1?a("div",{staticClass:"float-right row mb-3"},[a("div",{staticClass:"mr-3"},[t._v(" Data ke "+t._s(t.ppjabs.meta.from)+" - "+t._s(t.ppjabs.meta.to)+" dari "+t._s(t.ppjabs.meta.total)+" data ")]),a("Pagination",{attrs:{last_page:t.pagination.last_page,pagination:t.pagination},on:{paginate:function(e){return t.getPpjab()}}})],1):t._e(),t.loading?a("div",{staticClass:"d-flex justify-content-center"},[t._v(" Loading... ")]):t._e(),a("table",{staticClass:"table table-hover"},[t.loading?t._e():a("thead",[a("tr",[a("th",{staticClass:"text-truncate"},[t._v("Nama PPJAB")]),a("th",{staticClass:"text-truncate"},[t._v("Keterangan")]),a("th",{staticClass:"text-truncate"},[t._v("Tanggal di buat")]),100==t.user.user_level_id?a("th",{staticClass:"text-truncate"},[t._v("Action")]):t._e()])]),a("tbody",t._l(t.ppjabs.data,(function(e){return a("tr",{key:e.id},[a("th",{staticClass:"text-truncate"},[a("router-link",{attrs:{to:{name:"ppjab.folderDocument",params:{ppjabID:e.id}}}},[t._v(" "+t._s(e.name)+" ")])],1),a("th",{staticClass:"text-truncate"},[t._v(t._s(e.keterangan))]),a("th",{staticClass:"text-truncate"},[t._v(t._s(e.created_at))]),100==t.user.user_level_id?a("th",{staticClass:"text-truncate"},[a("div",{staticClass:"d-flex"},[a("div",{staticClass:"text-info pr-1"},[a("router-link",{attrs:{to:{name:"ppjab.edit",params:{ppjabID:e.id}}}},[a("i",{staticClass:"mdi mdi-pencil pr-0"}),a("span",[t._v("Edit")])])],1),a("delete-ppjab",{attrs:{ppjabID:e.id}})],1)]):t._e()])})),0)])],2)},Qt=[],Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"deletePpjab",staticClass:"text-danger",attrs:{id:"delete-ppjab"},on:{click:function(e){t.modalDelete=!0}}},[a("i",{staticClass:"pr-0 mdi mdi-delete"}),a("span",[t._v("Delete")])]),t.modalDelete?a("modal",{on:{close:function(e){t.modalDelete=!1}}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"mb-2"},[t._v(" Apa anda yakin ingin menghapusnya ? ")]),a("button",{staticClass:"btn btn-sm btn-danger mr-2",staticStyle:{width:"70px"},on:{click:t.deletePpjab}},[t._v("Ya")]),a("button",{staticClass:"btn btn-sm btn-primary",staticStyle:{width:"70px"},on:{click:function(e){t.modalDelete=!1}}},[t._v("Batal")])])]):t._e()],1)},Xt=[],Zt={props:["ppjabID"],components:{Modal:G},data:function(){return{modalDelete:""}},methods:{deletePpjab:function(){var t=this;B.a.delete("ppjab/delete/".concat(this.ppjabID)).then((function(){t.$toasted.show("berhasil delete ppjab",{type:"success",duration:3e3}),t.$refs.deletePpjab.parentNode.parentNode.parentNode.parentNode.remove(),t.modalDelete=!1})).catch((function(e){var a=e.response.data.message;t.$toasted.show(a,{type:"error",duration:5e3})}))}}},te=Zt,ee=(a("ec44"),Object(f["a"])(te,Vt,Xt,!1,null,null,null)),ae=ee.exports,re={components:{DeletePpjab:ae,Pagination:at},data:function(){return{ppjabs:{data:[],meta:{}},pagination:{last_page:"",current_page:1},loading:!1}},computed:Object(o["a"])({},Object(d["b"])({user:"auth/user"})),mounted:function(){this.getPpjab()},methods:{getPpjab:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,B.a.get("ppjab/get?page=".concat(t.pagination.current_page)).then((function(e){t.ppjabs.data=e.data.data,t.ppjabs.meta=e.data.meta,t.pagination.last_page=e.data.meta.last_page,t.loading=!1})).catch((function(){t.loading=!0}));case 3:case"end":return e.stop()}}),e)})))()}}},ne=re,se=Object(f["a"])(ne,Ht,Qt,!1,null,null,null),oe=se.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("form",{attrs:{id:"createPpjab"},on:{submit:function(e){return e.preventDefault(),t.createPpjab(e)}}},[a("form-ppjab",{attrs:{formPpjab:t.formPpjab,errors:t.errors,btn:"Buat PPJAB"}})],1)])},le=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5"},[a("h4",[t._v("Buat PPJAB")])])}],ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"name"}},[t._v("Nama Site/Project")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formPpjab.name,expression:"formPpjab.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Nama Site/Project"},domProps:{value:t.formPpjab.name},on:{input:function(e){e.target.composing||t.$set(t.formPpjab,"name",e.target.value)}}}),t.errors.name?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.name[0]))]):t._e()])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"provinsi_id"}},[t._v("Provinsi")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formPpjab.provinsi_id,expression:"formPpjab.provinsi_id"}],staticClass:"form-control",attrs:{id:"provinsi_id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formPpjab,"provinsi_id",e.target.multiple?a:a[0])},function(e){return t.handleProvinsiChange()}]}},[a("option",{attrs:{value:"",disabled:""}},[t._v("Pilih Provinsi")]),t._l(t.provinsis,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.provinsi)+" ")])}))],2),t.errors.provinsi_id?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.provinsi_id[0]))]):t._e()])]),0!=t.kabKotas.length||0!=t.formPpjab.kab_kota_id?a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"kab_kota_id"}},[t._v("Kabupatan/Kota")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formPpjab.kab_kota_id,expression:"formPpjab.kab_kota_id"}],staticClass:"form-control",attrs:{id:"provinsi_id"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formPpjab,"kab_kota_id",e.target.multiple?a:a[0])}}},t._l(t.kabKotas,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.kab_kota)+" ")])})),0),t.errors.kab_kota_id?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.kab_kota_id[0]))]):t._e()])]):t._e(),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"name"}},[t._v("Kecamatan")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formPpjab.kecamatan,expression:"formPpjab.kecamatan"}],staticClass:"form-control",attrs:{type:"text",id:"kecamatan",placeholder:"Kecamatan"},domProps:{value:t.formPpjab.kecamatan},on:{input:function(e){e.target.composing||t.$set(t.formPpjab,"kecamatan",e.target.value)}}}),t.errors.kecamatan?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.kecamatan[0]))]):t._e()])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"keterangan"}},[t._v("Keterangan PPJAB")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formPpjab.keterangan,expression:"formPpjab.keterangan"}],staticClass:"form-control",attrs:{id:"keterangan",rows:"3",placeholder:"Keterangan PPJAB"},domProps:{value:t.formPpjab.keterangan},on:{input:function(e){e.target.composing||t.$set(t.formPpjab,"keterangan",e.target.value)}}}),t.errors.keterangan?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.keterangan[0]))]):t._e()])]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-lg-3"}),a("div",{staticClass:"col-lg-5 col-xs-5"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[t._v(t._s(t.btn))])])])])},ue=[],de={props:["formPpjab","errors","btn"],data:function(){return{provinsis:[],kabKotas:[]}},mounted:function(){this.getProvinsi()},watch:{formPpjab:function(){this.getKabKota(this.formPpjab.provinsi_id)}},methods:{handleProvinsiChange:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("kab_kota/get/".concat(t.formPpjab.provinsi_id)).then((function(e){t.kabKotas=e.data.data,t.formPpjab.kab_kota_id=t.kabKotas[0].id}));case 2:case"end":return e.stop()}}),e)})))()},getProvinsi:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("provinsi/get").then((function(e){t.provinsis=e.data.data}));case 2:case"end":return e.stop()}}),e)})))()},getKabKota:function(t){var e=this;return Object(K["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.a.get("kab_kota/get/".concat(t)).then((function(t){e.kabKotas=t.data.data}));case 2:case"end":return a.stop()}}),a)})))()}}},me=de,pe=Object(f["a"])(me,ce,ue,!1,null,null,null),fe=pe.exports,ve={components:{FormPpjab:fe},data:function(){return{formPpjab:{name:"",provinsi_id:"",kab_kota_id:"",kecamatan:"",keterangan:""},errors:[]}},methods:{createPpjab:function(){var t=this;B.a.post("ppjab/create",this.formPpjab).then((function(){t.$toasted.show("berhasil buat ppjab",{type:"success",duration:3e3}),t.$router.push({name:"ppjab"})})).catch((function(e){t.errors=e.response.data}))}}},_e=ve,ge=Object(f["a"])(_e,ie,le,!1,null,null,null),be=ge.exports,he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("form",{attrs:{id:"editPpjab"},on:{submit:function(e){return e.preventDefault(),t.editPpjab(e)}}},[a("form-ppjab",{attrs:{formPpjab:t.formPpjab,errors:t.errors,btn:"Simpan PPJAB"}})],1)])},je=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5"},[a("h4",[t._v("Edit PPJAB")])])}],ke={components:{FormPpjab:fe},data:function(){return{formPpjab:{name:"",provinsi_id:"",kab_kota_id:"",kecamatan:"",keterangan:""},errors:[],ppjabID:this.$route.params.ppjabID}},mounted:function(){this.getPpjab()},methods:{getPpjab:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("ppjab/get/".concat(t.ppjabID)).then((function(e){t.formPpjab=e.data.data,t.formPpjab.provinsi_id=t.formPpjab.provinsi.id,t.formPpjab.kab_kota_id=t.formPpjab.kab_kota.id}));case 2:case"end":return e.stop()}}),e)})))()},editPpjab:function(){var t=this;B.a.patch("ppjab/update/".concat(this.ppjabID),this.formPpjab).then((function(){t.$toasted.show("berhasil update ppjab",{type:"success",duration:3e3}),t.$router.push({name:"ppjab"})})).catch((function(e){t.errors=e.response.data}))}}},Ce=ke,xe=Object(f["a"])(Ce,he,je,!1,null,null,null),we=xe.exports,Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"table table-hover"},[t._m(0),a("tbody",t._l(t.folders,(function(e){return a("tr",{key:e.id},[a("td",[a("router-link",{attrs:{to:{name:"ppjab.document",params:{ppjabID:t.ppjabID,groupID:e.id}}}},[a("i",{staticClass:"mdi mdi-folder"}),a("span",[t._v(t._s(e.group))])])],1)])})),0)])])},De=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-truncate"},[t._v("Group")])])])}],ye={data:function(){return{folders:[],ppjabID:this.$route.params.ppjabID}},mounted:function(){this.getFolder()},methods:{getFolder:function(){var t=this;B.a.get("ppjab/document_ppjab/list_group").then((function(e){t.folders=e.data.data}))}}},$e=ye,Ie=Object(f["a"])($e,Pe,De,!1,null,null,null),Oe=Ie.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.subFolders.length?[a("table",{staticClass:"table table-hover"},[t._m(0),a("tbody",t._l(t.subFolders,(function(e){return a("tr",{key:e.id},[a("td",[a("router-link",{attrs:{to:{name:"ppjab.document",params:{ppjabID:t.ppjabID,groupID:e.id}}}},[a("i",{staticClass:"mdi mdi-folder"}),a("span",[t._v(t._s(e.group))])])],1)])})),0)])]:[102==t.user.user_level_id?a("div",{staticClass:"mb-3"},[a("router-link",{attrs:{to:{name:"ppjab.uploadDocument",params:{ppjabID:t.ppjabID,groupID:t.groupID}}}},[a("button",{staticClass:"btn btn-primary"},[t._v("Upload Document")])])],1):t._e(),t.loading?a("div",{staticClass:"d-flex justify-content-center"},[t._v(" Loading... ")]):t._e(),a("table",{staticClass:"table table-hover"},[t.loading?t._e():a("thead",[t._m(1)]),a("tbody",t._l(t.documents,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"text-truncate"},[t._v(t._s(e.name))]),a("td",{staticClass:"text-truncate"},[t._v(t._s(e.keterangan))]),a("td",{staticClass:"text-truncate"},[t._v(t._s(t.fileName(e.file)))]),a("td",{staticClass:"text-truncate"},[t._v(t._s(e.created_at))]),a("td",{staticClass:"text-truncate"},[a("div",{staticClass:"d-flex"},[102==t.user.user_level_id?a("delete-document",{attrs:{documentID:e.id}}):t._e(),a("div",{staticClass:"text-info"},[a("a",{attrs:{target:"_blank",href:e.file,download:e.name}},[a("i",{staticClass:"mdi mdi-download pr-0"}),a("span",[t._v("Download File")])])])],1)])])})),0)])]],2)},Ee=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-truncate"},[t._v("Group")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"text-truncate"},[t._v("Document Name")]),a("th",{staticClass:"text-truncate"},[t._v("Keterangan")]),a("th",{staticClass:"text-truncate"},[t._v("File")]),a("th",{staticClass:"text-truncate"},[t._v("Tanggal dibuat")]),a("th",{staticClass:"text-truncate"},[t._v("Actions")])])}],Ae=(a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"deleteDocumentPpjab",staticClass:"text-danger mr-1",attrs:{id:"delete-document-ppjab"},on:{click:function(e){t.modalDelete=!0}}},[a("i",{staticClass:"mdi mdi-delete pr-0"}),a("span",[t._v("Delete")])]),t.modalDelete?a("modal",{on:{close:function(e){t.modalDelete=!1}}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"mb-2"},[t._v(" Apa anda yakin ingin menghapusnya ? ")]),a("button",{staticClass:"btn btn-sm btn-danger mr-2",staticStyle:{width:"70px"},on:{click:t.deleteDocumentPpjab}},[t._v("Ya")]),a("button",{staticClass:"btn btn-sm btn-primary",staticStyle:{width:"70px"},on:{click:function(e){t.modalDelete=!1}}},[t._v("Batal")])])]):t._e()],1)}),Fe=[],Se={props:["documentID"],components:{Modal:G},data:function(){return{modalDelete:""}},methods:{deleteDocumentPpjab:function(){var t=this;B.a.delete("ppjab/document_ppjab/delete/".concat(this.documentID)).then((function(){t.$toasted.show("berhasil hapus data",{type:"success",duration:3e3}),t.$refs.deleteDocumentPpjab.parentNode.parentNode.parentNode.parentNode.remove(),t.modalDelete=!1})).catch((function(t){console.log(t.response.data)}))}}},Ke=Se,Re=(a("acac"),Object(f["a"])(Ke,Ae,Fe,!1,null,null,null)),Be=Re.exports,Ue={components:{DeleteDocument:Be},data:function(){return{documents:[],subFolders:[],ppjabID:this.$route.params.ppjabID,groupID:"",loading:!1}},computed:Object(o["a"])({},Object(d["b"])({user:"auth/user"})),mounted:function(){this.getDocument(this.$route.params.groupID),this.getSubFolder(this.$route.params.groupID)},beforeRouteUpdate:function(t,e,a){this.getSubFolder(t.params.groupID),this.getDocument(t.params.groupID),a()},methods:{getSubFolder:function(t){var e=this;return Object(K["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.groupID=t,a.next=3,B.a.get("ppjab/document_ppjab/list_sub_group/".concat(e.groupID)).then((function(t){e.subFolders=t.data.data}));case 3:case"end":return a.stop()}}),a)})))()},getDocument:function(t){var e=this;return Object(K["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,B.a.get("ppjab/document_ppjab/get_by_group/".concat(e.ppjabID,"/").concat(t)).then((function(t){e.documents=t.data.data,e.loading=!1})).catch((function(){e.loading=!0}));case 3:case"end":return a.stop()}}),a)})))()},fileName:function(t){var e=t.substring(t.lastIndexOf("/")+1);return e}}},Le=Ue,Je=Object(f["a"])(Le,Ne,Ee,!1,null,null,null),Te=Je.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("form",{on:{submit:function(e){return e.preventDefault(),t.uploadDocument(e)}}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"name"}},[t._v("Nama File")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Nama File"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t.errors.name?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.name[0]))]):t._e()])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"keterangan"}},[t._v("Keterangan Document")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.keterangan,expression:"form.keterangan"}],staticClass:"form-control",attrs:{id:"keterangan",rows:"3",placeholder:"Keterangan Document"},domProps:{value:t.form.keterangan},on:{input:function(e){e.target.composing||t.$set(t.form,"keterangan",e.target.value)}}}),t.errors.keterangan?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.keterangan[0]))]):t._e()])]),a("div",{staticClass:"input-group mb-3 row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"uploadFile"}},[t._v("Upload File")]),a("div",{staticClass:"col-lg-5 col-xl-5 ml-2"},[a("div",{staticClass:"custom-file",attrs:{id:"uploadFile"}},[a("input",{ref:"uploadFile",staticClass:"custom-file-input",attrs:{type:"file",id:"uploadFile"},on:{change:t.handleFileUpload}}),a("label",{staticClass:"custom-file-label",attrs:{for:"uploadFile"}},[t._v(t._s(t.file.name))])]),t.errors.file?a("div",{staticClass:"text-danger"},[t._v(t._s(t.errors.file[0]))]):t._e()])]),t._m(1)])])},Ye=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5"},[a("h4",[t._v("Upload Document")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-lg-3"}),a("div",{staticClass:"col-lg-5 col-xs-5"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[t._v("Upload File")])])])}],ze={data:function(){return{form:{name:"",keterangan:""},file:[],errors:[]}},methods:{handleFileUpload:function(){this.file=this.$refs.uploadFile.files[0]},uploadDocument:function(){var t=this,e=new FormData;e.append("ppjab_id",this.$route.params.ppjabID),e.append("group_id",this.$route.params.groupID),e.append("name",this.form.name),e.append("keterangan",this.form.keterangan),e.append("file",this.file),B.a.post("ppjab/document_ppjab/create",e).then((function(){t.$toasted.show("berhasl upload data",{type:"success",duration:3e3}),t.$router.push({name:"ppjab.document",params:{ppjabID:t.$route.params.ppjabID,groupID:t.$route.params.groupID}})})).catch((function(e){t.errors=e.response.data}))}}},Ge=ze,We=Object(f["a"])(Ge,Me,Ye,!1,null,null,null),qe=We.exports,He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[102==t.user.user_level_id?[a("router-link",{attrs:{to:{name:"kontrak.create"}}},[a("button",{staticClass:"btn btn-primary mb-3"},[t._v(" Tambah Kontrak ")])])]:t._e(),t.pagination.last_page>1?a("div",{staticClass:"float-right row mb-3"},[a("div",{staticClass:"mr-3"},[t._v(" Data ke "+t._s(t.kontraks.meta.from)+" - "+t._s(t.kontraks.meta.to)+" dari "+t._s(t.kontraks.meta.total)+" data ")]),a("Pagination",{attrs:{last_page:t.pagination.last_page,pagination:t.pagination},on:{paginate:function(e){return t.getKontraks()}}})],1):t._e(),t.loading?a("div",{staticClass:"d-flex justify-content-center"},[t._v(" Loading... ")]):t._e(),a("table",{staticClass:"table table-hover"},[t.loading?t._e():a("thead",[t._m(0)]),a("tbody",t._l(t.kontraks.data,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"text-truncate"},[a("router-link",{attrs:{to:{name:"amandemen",params:{kontrakID:e.id}}}},[t._v(" "+t._s(e.name)+" ")])],1),a("td",{staticClass:"text-truncate"},[t._v(t._s(e.keterangan))]),a("td",{staticClass:"text-truncate"},[null!==e.amandemen&&""!==e.amandemen?[t._v(t._s(t.fileName(e.amandemen)))]:[t._v("Belum ada amandemen")]],2),a("td",{staticClass:"text-truncate"},[t._v(t._s(e.created_at))]),a("td",{staticClass:"text-truncate"},[a("div",{staticClass:"d-flex"},[102==t.user.user_level_id?a("router-link",{attrs:{to:{name:"kontrak.update",params:{kontrakID:e.id}}}},[a("i",{staticClass:"mdi mdi-pencil pr-0"}),a("span",{staticClass:"mr-1"},[t._v("Edit")])]):t._e(),102==t.user.user_level_id?a("delete-kontrak",{attrs:{kontrakID:e.id}}):t._e(),e.amandemen?a("div",{staticClass:"text-info"},[a("a",{attrs:{target:"_blank",href:e.amandemen,download:e.name}},[a("i",{staticClass:"mdi mdi-download pr-0"}),a("span",[t._v("Download")])])]):t._e()],1)])])})),0)])],2)},Qe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"text-truncate"},[t._v("Nama")]),a("th",{staticClass:"text-truncate"},[t._v("Keterangan")]),a("th",{staticClass:"text-truncate"},[t._v("Amandemen")]),a("th",{staticClass:"text-truncate"},[t._v("Tanggal dibuat")]),a("th",{staticClass:"text-truncate"},[t._v("Actions")])])}],Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"deleteKontrak",staticClass:"text-danger mr-1",attrs:{id:"delete-kontrak"},on:{click:function(e){t.modalDelete=!0}}},[a("i",{staticClass:"mdi mdi-delete pr-0"}),a("span",[t._v("Delete")])]),t.modalDelete?a("modal",{on:{close:function(e){t.modalDelete=!1}}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"mb-2"},[t._v(" Apa anda yakin ingin menghapusnya ? ")]),a("button",{staticClass:"btn btn-sm btn-danger mr-2",staticStyle:{width:"70px"},on:{click:t.deleteKontrak}},[t._v("Ya")]),a("button",{staticClass:"btn btn-sm btn-primary",staticStyle:{width:"70px"},on:{click:function(e){t.modalDelete=!1}}},[t._v("Batal")])])]):t._e()],1)},Xe=[],Ze={props:["kontrakID"],components:{Modal:G},data:function(){return{modalDelete:""}},methods:{deleteKontrak:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.delete("kontrak/delete/".concat(t.kontrakID)).then((function(){t.$toasted.show("berahasil delete data",{type:"success",duration:3e3}),t.$refs.deleteKontrak.parentNode.parentNode.parentNode.parentNode.remove(),t.modalDelete=!1})).catch((function(e){var a=e.response.data.message;t.$toasted.show(a,{type:"error",duration:5e3}),t.modalDelete=!1}));case 2:case"end":return e.stop()}}),e)})))()}}},ta=Ze,ea=(a("e299"),Object(f["a"])(ta,Ve,Xe,!1,null,null,null)),aa=ea.exports,ra={components:{DeleteKontrak:aa,Pagination:at},data:function(){return{kontraks:{data:[],meta:{}},pagination:{last_page:"",current_page:1},loading:!1}},computed:Object(o["a"])({},Object(d["b"])({user:"auth/user"})),mounted:function(){this.getKontraks()},methods:{getKontraks:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,B.a.get("kontrak/get?page=".concat(t.pagination.current_page)).then((function(e){t.kontraks.data=e.data.data,t.kontraks.meta=e.data.meta,t.pagination.last_page=e.data.meta.last_page,t.loading=!1})).catch((function(){t.loading=!0}));case 3:case"end":return e.stop()}}),e)})))()},fileName:function(t){var e=t.substring(t.lastIndexOf("/")+1);return e}}},na=ra,sa=Object(f["a"])(na,He,Qe,!1,null,null,null),oa=sa.exports,ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("form",{attrs:{id:"createKontrak"},on:{submit:function(e){return e.preventDefault(),t.createKontrak(e)}}},[a("form-kontrak",{attrs:{form:t.form,errors:t.errors,btn:"Buat Kontrak"}})],1)])},la=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5"},[a("h4",[t._v("Buat Kontrak")])])}],ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"name"}},[t._v("Nama File")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Nama File"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t.errors.name?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.name[0]))]):t._e()])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"keterangan"}},[t._v("Keterangan")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.keterangan,expression:"form.keterangan"}],staticClass:"form-control",attrs:{id:"keterangan",rows:"3",placeholder:"Keterangan"},domProps:{value:t.form.keterangan},on:{input:function(e){e.target.composing||t.$set(t.form,"keterangan",e.target.value)}}}),t.errors.keterangan?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.keterangan[0]))]):t._e()])]),a("div",{staticClass:"input-group mb-3 row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"uploadAmandemen"}},[t._v("Upload Dokumen Induk")]),a("div",{staticClass:"col-lg-5 col-xl-5 ml-2"},[a("div",{staticClass:"custom-file",attrs:{id:"uploadAmandemen"}},[a("input",{ref:"uploadAmandemen",staticClass:"custom-file-input",attrs:{type:"file",id:"uploadAmandemen"},on:{change:t.handleFileUpload}}),a("label",{staticClass:"custom-file-label",attrs:{for:"uploadAmandemen"}},[t._v(t._s(t.form.amandemen.name))])]),t.errors.amandemen?a("div",{staticClass:"text-danger"},[t._v(t._s(t.errors.amandemen[0]))]):t._e()])]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-lg-3"}),a("div",{staticClass:"col-lg-5 col-xs-5"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[t._v(t._s(t.btn))])])])])},ua=[],da={props:["form","errors","btn"],methods:{handleFileUpload:function(){this.form.amandemen=this.$refs.uploadAmandemen.files[0]}}},ma=da,pa=Object(f["a"])(ma,ca,ua,!1,null,null,null),fa=pa.exports,va={components:{FormKontrak:fa},data:function(){return{form:{name:"",keterangan:"",amandemen:[]},errors:[]}},methods:{createKontrak:function(){var t=this,e=new FormData;e.append("name",this.form.name),e.append("keterangan",this.form.keterangan),e.append("amandemen",this.form.amandemen),B.a.post("kontrak/create",e).then((function(){t.$toasted.show("berhasil buat kontrak",{type:"success",duration:3e3}),t.$router.push({name:"kontrak"})})).catch((function(e){t.errors=e.response.data}))}}},_a=va,ga=Object(f["a"])(_a,ia,la,!1,null,null,null),ba=ga.exports,ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("form",{attrs:{id:"createKontrak"},on:{submit:function(e){return e.preventDefault(),t.updateKontrak(e)}}},[a("form-kontrak",{attrs:{form:t.form,errors:t.errors,btn:"Simpan Kontrak"}})],1)])},ja=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5"},[a("h4",[t._v("Edit Kontrak")])])}],ka={components:{FormKontrak:fa},data:function(){return{form:{name:"",keterangan:"",amandemen:[]},errors:[]}},mounted:function(){this.getKontrak()},methods:{getKontrak:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("/kontrak/get/".concat(t.$route.params.kontrakID)).then((function(e){var a=e.data.data;t.form.name=a.name,t.form.keterangan=a.keterangan}));case 2:case"end":return e.stop()}}),e)})))()},updateKontrak:function(){var t=this,e=new FormData;e.append("name",this.form.name),e.append("keterangan",this.form.keterangan),this.form.amandemen.name&&e.append("amandemen",this.form.amandemen),B.a.post("kontrak/update/".concat(this.$route.params.kontrakID),e).then((function(){t.$toasted.show("data berhasil di simpan",{type:"success",duration:3e3}),t.$router.push({name:"kontrak"})})).catch((function(e){t.errors=e.response.data}))}}},Ca=ka,xa=Object(f["a"])(Ca,ha,ja,!1,null,null,null),wa=xa.exports,Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[102==t.user.user_level_id?a("div",{staticClass:"mb-3"},[a("router-link",{attrs:{to:{name:"amandemen.create",params:{kontrakID:t.kontrakID}}}},[a("button",{staticClass:"btn btn-primary"},[t._v("Upload Amandemen")])])],1):t._e(),t.loading?a("div",{staticClass:"d-flex justify-content-center"},[t._v(" Loading... ")]):t._e(),a("table",{staticClass:"table table-hover"},[t.loading?t._e():a("thead",[t._m(0)]),a("tbody",t._l(t.amandemens,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"text-truncate"},[t._v(t._s(e.name))]),a("td",{staticClass:"text-truncate"},[t._v(t._s(e.keterangan))]),a("td",{staticClass:"text-truncate"},[t._v(t._s(t.fileName(e.file)))]),a("td",{staticClass:"text-truncate"},[a("div",{staticClass:"d-flex"},[102==t.user.user_level_id?a("router-link",{attrs:{to:{name:"amandemen.update",params:{kontrakID:t.kontrakID,amandemenID:e.id}}}},[a("i",{staticClass:"mdi mdi-pencil pr-0"}),a("span",{staticClass:"mr-1"},[t._v("Edit")])]):t._e(),102==t.user.user_level_id?a("delete-amandemen",{attrs:{amandemenID:e.id}}):t._e(),a("div",{staticClass:"text-info"},[a("a",{attrs:{target:"_blank",href:e.file,download:e.name}},[a("i",{staticClass:"mdi mdi-download pr-0"}),a("span",[t._v("Download")])])])],1)])])})),0)])])},Da=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"text-truncate"},[t._v("Nama")]),a("th",{staticClass:"text-truncate"},[t._v("Keterangan")]),a("th",{staticClass:"text-truncate"},[t._v("File")]),a("th",{staticClass:"text-truncate"},[t._v("Actions")])])}],ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"deleteAmandemen",staticClass:"text-danger mr-1",attrs:{id:"delete-amandemen"},on:{click:function(e){t.modalDelete=!0}}},[a("i",{staticClass:"mdi mdi-delete pr-0"}),a("span",[t._v("Delete")])]),t.modalDelete?a("modal",{on:{close:function(e){t.modalDelete=!1}}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"mb-2"},[t._v(" Apa anda yakin ingin menghapusnya ? ")]),a("button",{staticClass:"btn btn-sm btn-danger mr-2",staticStyle:{width:"70px"},on:{click:t.deleteAmandemen}},[t._v("Ya")]),a("button",{staticClass:"btn btn-sm btn-primary",staticStyle:{width:"70px"},on:{click:function(e){t.modalDelete=!1}}},[t._v("Batal")])])]):t._e()],1)},$a=[],Ia={props:["amandemenID"],components:{Modal:G},data:function(){return{modalDelete:!1}},methods:{deleteAmandemen:function(){var t=this;B.a.delete("kontrak/amandemen/delete/".concat(this.amandemenID)).then((function(){t.$toasted.show("berhasil hapus data",{type:"success",duration:3e3}),t.$refs.deleteAmandemen.parentNode.parentNode.parentNode.parentNode.remove(),t.modalDelete=!1}))}}},Oa=Ia,Na=(a("4b21"),Object(f["a"])(Oa,ya,$a,!1,null,null,null)),Ea=Na.exports,Aa={components:{DeleteAmandemen:Ea},data:function(){return{kontrakID:this.$route.params.kontrakID,amandemens:[],loading:!1}},computed:Object(o["a"])({},Object(d["b"])({user:"auth/user"})),mounted:function(){this.getAmandems()},methods:{getAmandems:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,B.a.get("kontrak/amandemen/get/".concat(t.kontrakID)).then((function(e){t.amandemens=e.data.data,t.loading=!1})).catch((function(){t.loading=!0}));case 3:case"end":return e.stop()}}),e)})))()},fileName:function(t){var e=t.substring(t.lastIndexOf("/")+1);return e}}},Fa=Aa,Sa=Object(f["a"])(Fa,Pa,Da,!1,null,null,null),Ka=Sa.exports,Ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("form",{attrs:{id:"createAmandemen"},on:{submit:function(e){return e.preventDefault(),t.createAmandemen(e)}}},[a("form-amandemen",{attrs:{form:t.form,errors:t.errors,btn:"Buat Amandemen"}})],1)])},Ba=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5"},[a("h4",[t._v("Buat Amandemen")])])}],Ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"name"}},[t._v("Nama File")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Nama File"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t.errors.name?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.name[0]))]):t._e()])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"keterangan"}},[t._v("Keterangan")]),a("div",{staticClass:"col-lg-5 col-xl-5"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.keterangan,expression:"form.keterangan"}],staticClass:"form-control",attrs:{id:"keterangan",rows:"3",placeholder:"Keterangan"},domProps:{value:t.form.keterangan},on:{input:function(e){e.target.composing||t.$set(t.form,"keterangan",e.target.value)}}}),t.errors.keterangan?a("div",{staticClass:"mt-2 text-danger"},[t._v(t._s(t.errors.keterangan[0]))]):t._e()])]),a("div",{staticClass:"input-group mb-3 row"},[a("label",{staticClass:"col-lg-3",attrs:{for:"uploadFile"}},[t._v("Upload file")]),a("div",{staticClass:"col-lg-5 col-xl-5 ml-2"},[a("div",{staticClass:"custom-file",attrs:{id:"uploadFile"}},[a("input",{ref:"uploadFile",staticClass:"custom-file-input",attrs:{type:"file",id:"uploadFile"},on:{change:t.handleFileUpload}}),a("label",{staticClass:"custom-file-label",attrs:{for:"uploadFile"}},[t._v(t._s(t.form.file.name))])]),t.errors.file?a("div",{staticClass:"text-danger"},[t._v(t._s(t.errors.file[0]))]):t._e()])]),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-lg-3"}),a("div",{staticClass:"col-lg-5 col-xs-5"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[t._v(t._s(t.btn))])])])])},La=[],Ja={props:["form","errors","btn"],methods:{handleFileUpload:function(){this.form.file=this.$refs.uploadFile.files[0]}}},Ta=Ja,Ma=Object(f["a"])(Ta,Ua,La,!1,null,null,null),Ya=Ma.exports,za={components:{FormAmandemen:Ya},data:function(){return{form:{name:"",keterangan:"",file:[]},errors:[]}},methods:{createAmandemen:function(){var t=this,e=new FormData;e.append("kontrak_project_id",this.$route.params.kontrakID),e.append("name",this.form.name),e.append("keterangan",this.form.keterangan),e.append("file",this.form.file),B.a.post("kontrak/amandemen/create",e).then((function(){t.$toasted.show("berhasil upload amandemen",{type:"success",duration:3e3}),t.$router.push({name:"amandemen",params:{kontrakID:t.$route.params.kontrakID}})})).catch((function(e){t.errors=e.response.data}))}}},Ga=za,Wa=Object(f["a"])(Ga,Ra,Ba,!1,null,null,null),qa=Wa.exports,Ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("form",{attrs:{id:"udpateAmandemen"},on:{submit:function(e){return e.preventDefault(),t.udpateAmandemen(e)}}},[a("form-amandemen",{attrs:{form:t.form,errors:t.errors,btn:"Simpan Amandemen"}})],1)])},Qa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5"},[a("h4",[t._v("Update Amandemen")])])}],Va={components:{FormAmandemen:Ya},data:function(){return{form:{name:"",keterangan:"",file:[]},errors:[]}},mounted:function(){this.getAmandemen()},methods:{getAmandemen:function(){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("kontrak/amandemen/get_by_id/".concat(t.$route.params.amandemenID)).then((function(e){var a=e.data.data;t.form.name=a.name,t.form.keterangan=a.keterangan}));case 2:case"end":return e.stop()}}),e)})))()},udpateAmandemen:function(){var t=this,e=new FormData,a=this.$route.params.kontrakID;e.append("kontrak_project_id",a),e.append("name",this.form.name),e.append("keterangan",this.form.keterangan),this.form.file.name&&e.append("file",this.form.file),B.a.post("kontrak/amandemen/update/".concat(this.$route.params.amandemenID),e).then((function(){t.$toasted.show("data berhasil di simpan",{type:"success",duration:3e3}),t.$router.push({name:"amandemen",params:{kontrakID:a}})})).catch((function(e){t.errors=e.response.data}))}}},Xa=Va,Za=Object(f["a"])(Xa,Ha,Qa,!1,null,null,null),tr=Za.exports,er=(a("d3b7"),{namespaced:!0,state:{user:null,isLoggedIn:!1},mutations:{set_user:function(t,e){t.user=e,t.isLoggedIn=!0},reset_user:function(t){t.user=null,t.isLoggedIn=!1}},actions:{login:function(t,e){var a=t.commit;return new Promise((function(t,r){B.a.post("auth/login",e).then((function(e){var r=e.data,n=r.api_token;localStorage.setItem("api_token",n),B.a.defaults.headers.common["Authorization"]="Bearer "+n,a("set_user",r.data),t(e)})).catch((function(t){a("reset_user"),localStorage.removeItem("api_token"),r(t)}))}))},get_user:function(t){return Object(K["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.commit,localStorage.getItem("api_token")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,B.a.get("user/get_user");case 6:r=e.sent,a("set_user",r.data.data),e.next=16;break;case 10:return e.prev=10,e.t0=e["catch"](3),a("reset_user"),B.a.defaults.headers.common["Authorization"],localStorage.removeItem("api_token"),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,10]])})))()},logout:function(t){var e=t.commit;return new Promise((function(t,a){B.a.post("auth/logout").then((function(){e("reset_user"),localStorage.removeItem("api_token"),B.a.defaults.headers.common["Authorization"],t()})).catch((function(t){a(t)}))}))}},getters:{isLoggedIn:function(t){return t.isLoggedIn},user:function(t){return t.user}}});r["a"].use(d["a"]);var ar=new d["a"].Store({state:{},mutations:{},actions:{},modules:{auth:er}});function rr(t){var e=t.next,a=ar.getters["auth/user"];return 100==a.user_level_id?e():e("/dashboard")}function nr(t){var e=t.next;return ar.getters["auth/isLoggedIn"]&&ar.getters["auth/user"]?e():e("/")}function sr(t){var e=t.next,a=ar.getters["auth/user"];return 102==a.user_level_id||103==a.user_level_id?e():e("/dashboard")}function or(t){var e=t.next,a=ar.getters["auth/user"];return 102==a.user_level_id?e():e("/dashboard")}function ir(t){var e=t.next,a=ar.getters["auth/user"];return 102==a.user_level_id||101==a.user_level_id?e():e("/dashboard")}r["a"].use(k["a"]);var lr=[{path:"/",name:"login",component:y,meta:{guest:!0,title:"Login"}},{path:"/dashboard",name:"dashboard",component:A,meta:{middleware:[nr],title:"Dashboard"}},{path:"/project",name:"project",component:ot,meta:{middleware:[nr],title:"Project"}},{path:"/project/create",name:"project.create",component:mt,meta:{middleware:[nr,rr],title:"Create Project"}},{path:"/project/:projectID/edit",name:"project.edit",component:bt,meta:{middleware:[nr,rr],title:"Edit Project"}},{path:"/project/:projectID/sub_project",name:"subProject.listSubProject",component:Ot,meta:{middleware:[nr],title:"Dokumen Project"}},{path:"/project/:projectID/create_project",name:"subProject.createSubProject",component:Kt,meta:{middleware:[nr,rr],title:"Create Project"}},{path:"/sub_project/:projectID/:subProjectID",name:"subProject.EditSubProject",component:Tt,meta:{middleware:[nr,rr],title:"Edit Dokumen Project"}},{path:"/sub_project/:projectID/:subProjectID/upload_file",name:"subProject.UploadFileSubProject",component:qt,meta:{middleware:[nr,sr],title:"Upload Dokumen Project"}},{path:"/ppjab",name:"ppjab",component:oe,meta:{middleware:[nr],title:"PPJAB"}},{path:"/ppjab/create",name:"ppjab.create",component:be,meta:{middleware:[nr,rr],title:"Create PPJAB"}},{path:"/ppjab/:ppjabID/edit",name:"ppjab.edit",component:we,meta:{middleware:[nr,rr],title:"Edit PPJAB"}},{path:"/ppjab/:ppjabID/folder_document",name:"ppjab.folderDocument",component:Oe,meta:{middleware:[nr],title:"PPJAB Folder"}},{path:"/ppjab/:ppjabID/:groupID/document",name:"ppjab.document",component:Te,meta:{middleware:[nr],title:"PPJAB Document"}},{path:"/ppjab/:ppjabID/:groupID/upload_document",name:"ppjab.uploadDocument",component:qe,meta:{middleware:[nr,or],title:"Upload Documen PPJAB"}},{path:"/kontrak",name:"kontrak",component:oa,meta:{middleware:[nr,ir],title:"Kontrak"}},{path:"/kontrak/create",name:"kontrak.create",component:ba,meta:{middleware:[nr,or],title:"Create Kontrak"}},{path:"/kontrak/:kontrakID/update",name:"kontrak.update",component:wa,meta:{auth:!0,middleware:[nr,or],title:"Edit Kontrak"}},{path:"/amandemen/:kontrakID",name:"amandemen",component:Ka,meta:{middleware:[nr,ir],title:"amandemen"}},{path:"/amandemen/:kontrakID/create",name:"amandemen.create",component:qa,meta:{middleware:[nr,or],title:"Create Amandemen"}},{path:"/amandemen/:kontrakID/:amandemenID/update",name:"amandemen.update",component:tr,meta:{middleware:[nr,or],title:"Edit Amandemen"}}],cr=new k["a"]({mode:"history",linkActiveClass:"active",base:"/",routes:lr});function ur(t,e,a){var r=e[a];return r?function(){t.next.apply(t,arguments);var n=ur(t,e,a+1);r(Object(o["a"])(Object(o["a"])({},t),{},{next:n}))}:t.next}var dr="Dokumen Kontrol";cr.beforeEach((function(t,e,a){if(r["a"].nextTick((function(){document.title=""!=t.meta.title?t.meta.title+" - "+dr:dr})),t.meta.middleware){var n=Array.isArray(t.meta.middleware)?t.meta.middleware:[t.meta.middleware],s={from:e,next:a,router:cr,to:t},i=ur(s,n,1);return n[0](Object(o["a"])(Object(o["a"])({},s),{},{next:i}))}if(t.matched.some((function(t){return t.meta.guest}))){if(!ar.getters["auth/isLoggedIn"])return void a();a("/dashboard")}return a()}));var mr=cr,pr=(a("4989"),a("f9e3"),a("6672"),a("2c66"),a("a65d")),fr=a.n(pr);B.a.defaults.baseURL="http://103.112.44.35/document_control_kwa/api/public/";var vr=localStorage.getItem("api_token");vr&&(B.a.defaults.headers.common["Authorization"]="Bearer "+vr),r["a"].config.productionTip=!1,r["a"].use(fr.a),ar.dispatch("auth/get_user").then((function(){new r["a"]({router:mr,store:ar,render:function(t){return t(j)}}).$mount("#app")})).catch((function(t){console.error(t)}))},"5a3a":function(t,e,a){},6672:function(t,e,a){},"8e1d":function(t,e,a){},9869:function(t,e,a){"use strict";a("8e1d")},acac:function(t,e,a){"use strict";a("09d8")},be87:function(t,e,a){},c998:function(t,e,a){"use strict";a("0032")},da12:function(t,e,a){},e299:function(t,e,a){"use strict";a("3d89")},ec44:function(t,e,a){"use strict";a("da12")}});
//# sourceMappingURL=app.72c58493.js.map